# 셸

# 1. 개념 및 종류

# 1-1. 본셸 계열

| 이름   | 실행 파일 | 특징                                   |
| ------ | --------- | -------------------------------------- |
| 본셸   | /bin/sh   | 벨 연구소 스티븐 본 개발               |
| 콘셸   | /bin/ksh  | AT&T 데이비드 콘                       |
| 배쉬셸 | /bin/bash | 본셸 기반으로 GNU 프로젝트에 의해 개발 |
| 지셀   | /bin/zsh  | 확장형 본셸                            |

# 1-2. C셸 계열

| 이름 | 실행 파일 | 특징                                                         |
| ---- | --------- | ------------------------------------------------------------ |
| C셸  | /bin/csh  | 버클리 대학 빌 조이가 개발 <br />C언어의 특징을 많이 포함하고 있음 |
| tc셸 | /bin/tcsh | 확장 C셸<br />명령행 편집 기능을 제공                        |

# 1-3. 셸 확인

- 파일 /etc/shells에서 사용할 수 있는 셸들을 확인 가능
- 파일 /etc/passwd에서 계정마다 할당된 셸을 확인 가능
- 명령어 echo $SHELL : 현재 로그인한 사용자가 사용하고 있는 셸을 확인 가능

# 1-4. 셸 변경 명령

로그인 셸 변경은 반영구적인 셸 변경 방법으로 관리자가 셸 변경 후 다음 변경을 하기 전까지 지정된 셸 이용

- chsh : 일반 사용자 환경에서 셸 변경

-l : /etc/shells의 파일 안의 지정된 셸들을 나열

시스템에서 사용 가능한 셸 목록을 확인하는 명령어

- usermod : 관리자 환경에서 지정된 계정자의 정보를 변경할 때 사용

'usermod -s /bin/bash ihd' : 기존의 셸에서 새로운 셸로 변경시 사용

# 1-5. 셸 확인방법

- cat /etc/shells : 현재 시스템에서 사용할 수 있는 셸들을 확인



# 2. 환경설정

# 2-1. 주요 환경변수

| 이름  | 설명                                |
| ----- | ----------------------------------- |
| TERM  | 터미널 종류의 이름                  |
| TMOUT | 로그아웃 관련 시간 제어             |
| LANG  | 프로그램 사용시 기본 지원 언어      |
| PS1   | 셸 프롬프트를 선언 시 사용하는 변수 |

# 2-2. 환경 설정 파일

| 이름                                                         | 설명           |
| ------------------------------------------------------------ | -------------- |
| /etc/profile<br />/etc/bashrc                                | 전역설정 파일  |
| ~/.bash_profile<br />~/.bash_history<br />~/.bashrc<br />~/.bash_logout | 지역 설정 파일 |

# 2-3. 셸 환경변수

| 이름            | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| /etc/profile    | 모든 사용자의 셸 환경을 제어하는 전역적인 시스템 설정 파일   |
| ~/.bash_profile | 일반 사용자가  PATH와 같은 환경변수 변경할 때 사용하는 지역 설정 파일<br />로그인 시 읽어들임 |
| ~/.bashrc       | 별칭과 bash가 수행시 실행되는 함수를 지역적으로 제어         |
| ~/.bash_history | 사용자가 명령어나 키보드로 입력한 내용들을 파일로 모두 기록  |
| /etc/profile.d  | 몇몇 응용 프로그램들이 시작 시 자동 실행할 스크립트가 위치하는 디렉터리 |

# 2-4. history 기능

- 옵션

-!! : 마지막으로 실행했던 명령문 실행

-!문자열 : 가장 최근에 '문자열'로 시작하는 명령문 실행

-!?문자열?: 가장 최근에 '문자열'을 포함하고 있는 단어를 나타냄

-!n : n번째 명령어 실행

- 환경변수

-HISTSIZE : 히스토리 스택의 크기

-HISTFILE : 히스토리 파일 위치

-HISTFILESIZE : 물리적인 히스토리 파일 크기

-HISTTIMEFORMAT : 히스토리 명령어 수행 시간 출력 형태 지정

# 2-5. 프롬프트 설정 형식

프롬프트란 컴퓨터가 사용자의 입력을 받을 준비가 되어 있다는 것을 사용자에게 알려주기 위해 화면에 나타내고 있는 신호

`jun@ubuntu:~$`

- PS1=’[/u@ \W]\$’

\h: 호스트명을 표시

\u: 현재 사용자의 이름 표시

\t: 24시로 현재 시간을 표시

\d: ‘요일 월 일’ 형태로 날짜 표시 

\w: 현재 작업 디렉터리를 절대 경로로 표시 

\W: 현재 작업 디렉터리의 전체 경로 중 마지막 디렉터리만 표시 

\s: 사용중인 셸 이름 표

## :bulb:Tip!

- env : 현재 셸에 선언된 모든 환경 변수를 확인하는 명령어

- `>>`: 명령어 뒤에 나오는 파일에 추가할 때 사용(=append)

