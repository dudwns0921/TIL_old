# 운영체제

## 운영체제 소개

### 운영체제란 무엇인가

#### 컴퓨터 시스템의 구성

컴퓨터 시스템은 기계장치인 하드웨어와 프로그램인 소프트웨어로 구성된다고 할 수 있음

- ##### 하드웨어

  - CPU

  - 메모리

  - 저장장치

  - 입출력장치

  - 네트워크 장치

- ##### 소프트웨어

  - 브라우저

  - pdf 뷰어

  - 파워포인트

  - 컴파일러

- ##### 사용자 <--> 응용 소프트웨어 & 시스템 소프트웨어 <--> 하드웨어

  - 사용자

  - 응용 소프트웨어

    브라우저, pdf 뷰어 / 사용자가 직접적으로 상호작용하는 부

  - 시스템 소프트웨어

    응용 소프트웨어와 하드웨어의 매개체 역할 / 컴파일러, 윈도우즈, 리눅스, 맥

  - 하드웨어

- ##### 운영체제

  - 대표적인 시스템 소프트웨어

  - 컴퓨터 시스템의 **자원을 관리**하고 컴퓨터 프로그램이 동작하기 위한 **서비스를 제공**하는 **프로그램들의 모음**

#### 컴퓨터 시스템의 자원 관리

- ##### 자원

  - 하드웨어 자원
  - 소프트웨어 자원
  - 데이터

- ##### 예시

  - 저장장치에서 데이터 읽어오기
  - 키보드나 마우스 제어
  - 프로그램 동시 실행 시 CPU와 메모리를 효율적으로 관리

- 컴퓨터 시스템을 **효율적으로 운영**하는 목적을 가지고 있음

#### 사용자 지원

- 사용자가 내린 명령을 해석해 실행
- 사용자와 하드웨어 사이의 **매개체** 역할
- 사용자에게 **편의성**을 제공하는 목적

각 역할을 조금 다른 목적을 가지고 있음

#### 컴퓨터 시스템과 운영체제

- ##### 운영체제가 없던 초기의 컴퓨터 시스템

  - 응용 프로그램이 직접 컴퓨터 시스템의 자원 제어

    - 응용 프로그램 개발자는 하드웨어 제어 방법을 잘 알아야 함

      모니터에 글자를 출력하고 싶다면, 응용 프로그램이 모니터 특정 위치에 글자를 출력하는 작업까지 모두 수행해야 함

  - 여러 사용자가 하드웨어를 공유하는 경우 자원 분할 어려움

    응용 프로그램들은 각자 자신이 쓸 자원에 대해서 제어를 하기 때문에 다른 응용 프로그램과의 충돌이 일어날 수 있음

    데이터가 꼬여버리거나 아무런 동작이 일어나지 않을 수 있음

- ##### 운영체제가 있는 컴퓨터 시스템

  - 하드웨어와 응용 프로그램 사이에 운영체제 위치

    하드웨어를 직접 제어해야 했던 이전과 달리 글자를 출력하고 싶다고 운영체제에 요청하면, 운영체제가 하드웨어를 제어

  - 운영체제가 컴퓨터 시스템의 자원 제어

    충돌이 일어날 경우, 운영체제가 중재를 해줌. 

  - 컴퓨터 시스템이 안정적이고 효율적으로 동작하도록 

#### 커널 모드와 사용자 모드

- ##### 커널 모드(슈퍼 바이저 모드)

  - 하드웨어를 직접 제어할 수 있는 CPU 명령어를 사용할 수 있는 모드
  - 운영체제의 커널이 동작

- ##### 사용자 모드(보호 모드)

  - 하드웨어를 직접 제어할 수 있는 CPU 명령어를 사용할 수 없는 모드
  - 응용 프로그램이 동작함

- ##### 시스템 호출

  - 응용 프로그램이 **하드웨어에 대한 제어가 필요한 경우** 이용

  - 운영체제에 서비스를 요청하는 매커니즘

    운영체제에 서비스를 요청하면 커널 모드로 변경, 필요한 작업이 끝나면 다시 사용자 모드로 변경

    이렇게 커널 모드, 사용자 모드를 넘나들며 작업을 수행하는 것이 바로 시스템 호출

#### 커널

- 커널 모드에서 동작하는 운영체제의 핵심 요소
- 응용 프로그램과 하드웨어 수준의 처리 사이의 가교 역할
- 구성방식
  - 일체형 커널
  - 마이크로커널

- ##### 일체형 커널

  - 운영체제의 모든 서비스가 커널 내에 포함됨

  - 장점

    - 커널 내부 요소들이 서로 효율적으로 상호작용

      모든 요소가 커널 모드에서 실행되기 때문에 각 요소 간의 상호작용이 효율적으로 일어남.

  - 단점

    - 한 요소라도 오류가 발생하면 시스템 전체에 장애 발생 가능

  - 예시

    - UNIX
    - Linux

- ##### 마이크로 커널

  - 운영체제 요소의 대부분을 커널 외부로 분리

    커널의 외부 요소들은 모두 사용자 모드에서 동작

  - 메모리 관리, 멀티태스킹, 프로세스 간 통신 등 최소한의 요소만 커널 내에 남김

  - 장점

    - 새로운 서비스를 추가해 운영체제를 확장하기 쉬움
    - 유지보수가 용이하여 안정성이 우수함

  - 단점

    - 커널 외부 요소들 사이는 IPC가 필요하여 성능저하 발생

      IPC는 커널 내부에 위치. 따라서 외부 요소끼리 상호작용하기 위해서는 무조건 커널을 거쳐야 하므로 성능이 저하됨.

### 운영체제 구성

##### 컴퓨터 시스템 자원의 성격에 따라 구분

- 프로세스 관리자
- 메모리 관리자
- 파일 관리자
- 장치 관리자

##### 프로세스 관리자

- 프로세스의 생성 및 삭제

  저장장치에 브라우저, 문서편집기 등의 프로그램 파일들이 저장되어있음.

  사용자가 이용하기 위해서는 프로그램들이 메모리로 올라와야 함.

  메모리로 올라온 프로그램들을 프로세스라고 칭함. 다시 말하면 실행중인 프로그램을 프로세스라고 함.

- cpu 할당을 위한 스케줄 결정

  브라우저 속에 있는 명령어들을 실행시켜야 하는데, 그게 바로 cpu가 하는 일

  브라우저와 문서편집기가 동시에 실행되는데, CPU가 하나밖에 없다면 두 프로그램이 cpu를 번갈아 사용할 수 있어야 함.

  이를 스케줄링이라고 함.

- 프로세스의 상태를 관리하며 상태 전이 처리

##### 메모리 관리자

- 메모리 공간(주기억장치)에 대한 요구의 유효성 확인

- 메모리 할당 및 회수

- 메모리 공간 보호

  각 프로세스간 충돌이 일어나지 않도록 공간의 유효성을 확인해 메모리를 할당

  그래서 메모리 공간을 보호한다고도 할 수 있음

  커널도 메모리의 일부분을 할당받아 사용하고 있음

  그러니까 운영체제도 메모리를 할당받아 사용하고 있다는 의미

##### 장치 관리자

- 컴퓨터 시스템의 모든 장치 관리
- 시스템 장치의 할당, 작동, 반환
- 예시
  - 하드 디스크
  - ssd
  - 키보드
  - 마우스
  - 프린터
  - 유무선 네트워크 카드 등

##### 파일 관리자

- 컴퓨터 시스템의 모든 파일 관리
- 저장장치의 공간 관리
- 파일의 접근 제한 관리

### 운영체제 유형

##### 일괄처리 운영체제

- Batch Processing

  - 작업을 모아서 순서대로 처리하는 방식

- 사람(오퍼레이터)이 하던 일을 프로그램이 빠르게 처리하게 되면서 전체적인 작업 처리 속도가 향상됨

  1940년대 처음 컴퓨터가 등장했을 때는 운영체제가 없었음

  어떤 작업을 처리하기 위해서는, 오퍼레이터가 매 작업이 끝날 때마다 컴퓨터에 새로운 작업을 입력해야했음

  운영체제가 등장하면서 오퍼레이터가 하던 작업을 자동화하며, 가장 기본적인 형태인 일괄처리 운영체제가 등장하게 됨.

- 나중에 들어온 작업은 앞선 작업들이 모두 끝날 때까지 아무런 상호작용 없이 기다려야 함

##### 시분할 운영체제

- Time-sharing

  - 각 사용자의 프로그램을 한 번에 조금씩 수행하는 방식

    시간을 쪼개 그 간격마다 서로 다른 작업들을 돌아가면서 처리할 수 있는 방식

- 대화영 운영체제라고도 함

  시간 간격이 짧기 때문에 작업이 늦게 들어왔더라도 그에 대한 응답을 바로 볼 수 있다는 점에서 대화형 운영체제라고도 함

- 사용자들은 마치 혼자 컴퓨터를 사용하는 듯한 느낌을 받음
- 응답시간이 일괄처리 운영체제보다 크게 단축됨
  - 응답시간 : 요청한 시점부터 반응이 시작되는 시점까지의 소요시간

##### 실시간 운영체제

- Real-time

  - 원하는 시간 내에 프로그램의 결과를 얻을 수 있는 방식

    시분할 운영체제는 첫 응답이 빠르지만, 실시간 운영체제는 결과 자체를 빠르게 받을 수 있는 방식

- 처리결과가 현재의 결정에 큰 영향을 주는 환경에서 사용됨

  - 미사일 제어 시스템, 증권거래 관리 시스템 등

    매순간마다 미사일의 경로를 조정하는 등의 작업

- 중요한 작업에 대한 처리 기한을 맞추는 것이 중요

  - 우선순위가 높은 작업을 우선 처리할 수 있는 기법 활용

##### 분산 운영체제

- 분산 시스템을 관리하기 위한 운영체제

  - 분산 시스템

    2개 이상의 컴퓨터 시스템이 네트워크로 서로 연결되어 서로의 자원을 이용하는 시스템

- 다른 컴퓨터 시스템의 자원을 이용하는 것이 마치 자신의 컴퓨터 시스템에 있는 자원을 이용하는 것처럼 가능해야 함

