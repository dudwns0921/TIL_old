# Java 프로그래밍

## 제네릭과 람다식

#### 제네릭 클래스의 필요성

- 제네릭 타입과 자료형 검사
  
  - 제네릭 타입을 사용하지 않으면 컴파일 시점에서 오류를 검출하지 못함

- 의미가 명확하면 생성자 호출 시, 괄호만 사용할 수 있음

- 제네릭 인터페이스를 구현하는 일반 클래스
  
  - 클래스를 정의할 때 제네릭 인터페이스의 <> 안에 자료형을 지정하면 됨.

#### Raw 타입

- 제네릭 타입이지만 일반 타입처럼 사용하는 경우, 제네릭 타입을 지칭하는 용어

- 타입 매개변수 없이 사용되는 제네릭 타입
  
  - 자료형을 Object로 처리함

- 이 때 컴파일러가 정확한 타입 검사를 수행할 수 없으므로 경고 메시지를 출력

### 제네릭 메소드와 타입 제한

#### 제네릭 메소드(1)

- 자료형을 매개변수로 가지는 메소드
  
  - 하나의 메소드 정의로 여러 유형의 데이터를 처리할 때 유용함

- 메소드 정의에서 반환형 왼편, 각 괄호 <> 안에 타입 매개변수를 표시

#### 제네릭 메소드(2)

- 인스턴스 메소드와 static 메소드 모두 제네릭 메소드로 정의 가능

- 제네릭 메소드를 호출할 때, 타입을 명시하지 않아도 인자에 의해 추론이 가능함

#### 제네릭의 타입 제한

- 자료형을 매개변수화하여 클래스/인터페이스/메소드를 정의할 때 적용가능한 자료형에 제한을 두는 것

- <T extends Number> T는 Number가 상한
  
  - T에 주어지는 자료형은 Number의 서브 클래스라야 함

#### 제네릭 타입과 형변환

- 상속 관계가 있어야 상위, 하위 자료형의 관계가 존재함
  
  - 업캐스팅은 자동으로 가능
  
  - 다운캐스팅은 강제 형변환 필요
  
  - 상속 관계가 전혀 없으면 형변환 불가
  
  - Integer나 Double은 Number의 자식 클래스
  
  - 타입 매개변수끼리 상속 관계가 있다고 클래스간의 상속관계가 성립하지는 않음
  
  - 예시
    
    - Class Data<T>
    
    - Data<Number> data1 = new Data<Integer>();
    
    - 위 예시는 불가능

#### 제네릭 타입 사용시 유의사항

- 기본 자료형은 타입 매개변수로 지정할 수 없음

- 타입 매개변수로 객체 생성을 할 수 없음
  
  - private T t1 = new T(); // 오류

- 타입 매개변수의 타입으로 static 데이터 필드를 선언할 수 없음
  
  - private static T t2; // 오류
  
  - 모든 객체가 공유하는 하나의 변수이기 때문에, 그 변수의 자료형이 T에 주어지는 자료형에 따라 변동될 수 없음

- 제네릭 타입의 배열을  선언할 수 없음
  
  - Data <Integer>[]arrayOfData; // 오류

### 람다식

#### 람다식

- 인터페이스를 구현하는 익명 클래스의 객체 생성 부분을 식화한 것
  
  - 구현할 것이 1개의 추상 메소드뿐일 때 간단히 표현할 수 있음
  
  - 메소드 매개변수의 괄호
  
  - 화살표
  
  - 메소드 몸체로 표현
  
  - 메서드를 람다 표현식으로 표현하면 클래스를 작성하고 객체를 생성하지 않아도 메서드를 사용할 수 있다. 그런데 Java에서는 클래스의 선언과 동시에 객체를 생성하므로, 단 하나의 객체만을 생성할 수 있는 클래스를 익명 클래스라고 한다.
  
  - 따라서 람다 표현식은 익명 클래스와 같다고 할 수 있다.

- 인터페이스를 구현하는 익명 클래스의 객체 생성 부분을 수식화 한 것
  
  - 구현할 것이 1개의 추상 메소드뿐일 때 간단히 표현할 수 있음

#### 람다식 기본 문법 (1)

- 익명 구현 클래스의 객체 생성 부분만 람다식으로 표현함
  
  - 익명 서브 클래스의 객체 생성은 람다식이 될 수 없음

- 이 때 인터페이스에는 추상 메소드가 1개만 있어야 함
  
  - 2개 이상의 추상 메소드를 포함하는 인터페이스는 사용 불가

- 람다식의 결과 타입을 타깃 타입이라고 함

- 1개의 추상 메소드를 포함하는 인터페이스를 함수적 인터페이스라고 함
  
  - 메소드가 1개뿐이므로 메소드 이름을 생략할 수 있음
  
  - 람다식은 이름 없는 메소드 선언과 유사함

#### 람다식 기본 문법 (2)

- 인터페이스 객체 변수 = (매개변수목록) -> {실행문목록};
  
  - 매개변수 목록에서 자료형은 인터페이스(타깃 타입) 정의에서 알 수 있으므로 자료형을 생략하고 변수 이름만 사용 가능
  
  - 매개변수가 1개면 괄호도 생략 가능하며 변수 이름 하나만 남음
  
  - 매개변수를 가지지 않으면 괄호만 남음
  
  - 화살표 사용
  
  - 실행문 목록에서 실행문이 1개면 중괄호 생략 가능
  
  - 실행문이 return 문 뿐이라면 return과 세미콜론, 중괄호를 동시 생략해야 하고 1개의 수식만 남게 됨

#### 람다식의 활용

- 함수적 인터페이스
  
  - 1개의 추상 메소드만 가지는 단순한 인터페이스를 함수적 인터페이스라고 함
  
  - 패키지 java.util.function 에서 표준 함수적 인터페이스가 제네릭 인터페이스로 제공됨
  
  - 함수적 인터페이스를 구현하는 클래스를 정의할 때, 익명 클래스 정의를 활용할 수 있으나 람다식이 효율적
  
  - 표준 함수적 인터페이스
    
    - Consumer
    
    - Supplier
    
    - Function
