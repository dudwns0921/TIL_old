# REM

최근에 프론트엔드 개발자 오픈채팅방에서 rem에 관한 이야기가 나왔다. px과 같은 단위 정도로만 알고 있었을 뿐 실제로 사용해본 경험도 없고, 제대로 알고 있지도 않아서 관심이 갔다.

### 픽셀 절대 단위 px

픽셀 단위 `px`는 CSS에서 **가장 기본적인 단위**이다. CSS에서 픽셀 단위로 값을 입력하는 것은, 내가 원하는 값은 정확히 이 값이라고 **절댓값**으로 단호하게 선언하는 것이다.

### 폰트 사이즈의 상대 단위 em

절대적 단위인 픽셀과 다르게 **상대적 단위**인 `em`은 값을 **폰트 사이즈에 대한 상댓값**으로 계산하여 결정한다. 예를 들어, 부모 요소의 `font-size`가 20px이고, 자식 요소의 `font-size`에 `1.5em`을 입력한다면, 자식 요소는 상속받은 `20px`의 폰트 사이즈에 1.5를 곱해서 `30px`의 폰트 사이즈 결과값을 얻게 된다.

```css
.parent {
  font-size: 20px;
}
.child {
  /* 결과 → 상속받은 20px × 1.5 = 30px */
  font-size: 1.5em;
}
```

이렇게 `font-size`에 em 단위를 쓸 경우, 기반이 되는 값은 **상위 요소의 폰트 사이즈**이다.. 이런 특성으로 인해 부모 요소 한 번의 변경으로 자식 요소 여럿의 다양한 크기 값을 동시에 바꿀 수 있어 **유연한 단위**라고 할 수 있다. 게다가 **em 단위는 `font-size` 외에도 사이즈 단위가 사용되는 모든 프로퍼티에 사용 가능**하다. 그런 경우에도 계산 기반값은 폰트 사이즈이다. 정확히 말하면 자신의 폰트 사이즈이다. 참고로 CSS에서 자신의 폰트 사이즈가 지정되지 않으면 부모의 폰트 사이즈를 상속받는다.

```css
.parent {
  font-size: 20px;
}
.child-a {
  /* 결과 → 20px × 1.2 = 24px */
  font-size: 1.2em;
  /* 결과 → 자신의 폰트 사이즈 24px × 1.5 = 36px */
  height: 1.5em;
}
.child-b {
  /* 결과 → 자신의 상속받은 폰트 사이즈 20px × 1.5 = 30px */
  height: 1.5em;
}
```

이렇게 em 단위는 `font-size` 뿐만 아니라 모든 프로퍼티에서 사용할 수 있으며, 가끔 유용하게 쓸 수 있는 단위이다. 하지만 다음의 이유로 **em 단위가 픽셀 단위를 완전히 대체하여 모든 곳에 사용되기에는 무리**가 있다.

- CSS는 스타일만을 정의하고 실제 구조는 HTML 요소 트리가 결정하기에, CSS 내에서는 **상위 요소가 무엇이고 그 폰트 사이즈가 얼마인지 알기 어렵다**.
- CSS 내에서 상위 요소를 확실히 알더라도, em 단위가 여러 번 중첩된 경우에는 em 값의 **계산 결과를 직관적으로 예측하기 어렵다**.

### 루트 요소 폰트 사이즈의 상대 단위 rem

em 단위는 유연하지만, 픽셀 단위를 대체하기엔 무리가 있다. 하지만 **계산에 기반하는 요소가 정해져 있는 상대 단위**가 있다면 어떨까? 그것이 바로 **rem 단위**이다. rem 단위는 CSS3 표준에서 등장했으며, 어원은 *Root EM*입니다. 어원에서 알 수 있듯, rem 단위는 **HTML 루트 요소의 폰트 사이즈가 계산의 기반값**이다.

**루트 요소의 폰트 사이즈는 웹 브라우저의 기본 폰트 사이즈가 결정**하며, 대부분의 웹 브라우저에서 **16px**로 정해놓고 있습니다. 그렇다면 어떤 자식 요소에서든 CSS 프로퍼티의 값으로 `1.5rem`을 지정한 경우, 루트 요소 폰트 사이즈인 16px에 1.5가 곱해져서 최종 계산된 결과값은 24px이 된다. 자신의 폰트 사이즈에 비례하는 em 단위와는 달리, rem 단위는 **어떤 요소에서 사용하든 계산 기반값이 일관**되는 것이다.

```css
span {
  /* 결과값은 16px × 1.25 → 20px */
  font-size: 1.25rem;
  /* font-size와 관계없이 결과값은 16px × 1.5 → 24px */
  padding: 1.5rem;
}
```

그런데 이런 단위가 픽셀 단위를 잘 대체할 수 있을까? em 단위의 문제점인 기반값(폰트 사이즈)의 불명확함은 해결됐으나, 여전히 남는 문제는 **계산의 불편함**이다. 디자이너에게서 넘겨받은 프로토타입을 토대로 스타일 시트를 작성하거나, 이미지나 영상 같은 외부 리소스를 삽입하는 경우 등, 스타일 시트 작성자는 매번 필요한 픽셀값에 대해서 rem 값이 얼마가 필요한지 계산해야만 한다.

이 모든 계산 작업을 손수 하려면 꽤 많은 시간이 들 것이다. 다행히도, **css 전처리기**를 사용중이라면 이에 대한 걱정을 할 필요는 없다. 대부분 px 단위를 rem으로 계산해주는 함수를 제공하기 때문이다.

```css
.usage {
  width: rem(212px);          // → 13.25rem 반환 ( 213 / 16 = 13.25 )
  font-size: rem(15px, 10px); // → 1.5rem 반환 ( 15 / 10 = 1.5 )
}
```

## REM 단위의 장점

웹 사이트 전반에 rem 단위를 사용해서 얻을 수 있는 가장 큰 장점은 전체 스타일의 스케일을 손쉽게 조정할 수 있다는 점이다. 

### 전체 스타일의 스케일을 손쉽게 조정

rem 단위는 `font-size` 프로퍼티에 대해서만 사용할 수도 있고, 모든 사이징 프로퍼티에 사용하여 전체 레이아웃을 rem 단위로 만들 수도 있다. 여기서 후자의 경우 **루트 요소 폰트 사이즈를 변경하는 것만으로, 웹 사이트의 전체 폰트 사이즈 또는 전체 레이아웃 스케일까지 한 번에 변경**할 수 있게 된다. rem 단위는 루트 요소의 폰트 사이즈 값에 대해 상대적으로 계산되기 때문이다. 

```css
html {
  /* 루트 요소 폰트 사이즈 */
  /* 기본값 16px에서 150%로 키워 24px */
  font-size: 24px;}
.title {
  /* 결과 → 24px × 2.5 = 60px */
  margin: 2.5rem;
  /* 결과 → 24px × 1.25 = 30px */
  font-size: 1.25rem;
}
```

rem 단위의 기반값을 변경했으므로, 다른 모든 프로퍼티의 계산 결과값도 50%씩 증가하게 된다. 

하지만 이 방법에는 문제가 하나 있다. 이렇게 루트 요소 폰트 사이즈 값을 절대 단위인 `px`로 입력하면, 사용자 웹 브라우저의 폰트 사이즈 기본값 설정이 무시되고 스타일 시트에서 지정한 값으로 대체되고 만다. rem 단위의 본래 목적과 장점을 모두 살리려면 다음과 같이 **상대 단위 `%`를 사용**하는 것이 좋다. 다음과 같이 상대 단위를 사용하면 **사용자 웹 브라우저의 기본 폰트 사이즈 기본값에 대한 상댓값을 사용**하게 되므로 사용자 접근성을 저해하지 않는다.

```css
:root {
  /* 루트 요소 폰트 사이즈, 상댓값 */
  /* 전체 레이아웃의 크기를 150%로 키우기 */
  font-size: 150%;}
.box {
  /* 결과 → 16px × 150% × 2.5 = 60px */
  margin: 2.5rem;
  /* 결과 → 16px × 150% × 1.25 = 30px */
  font-size: 1.25rem;
}
```

# :books:참고자료

https://blog.jeongtae.com/rem-%EA%B3%A0%EC%B0%B0#%EB%AF%B8%EB%94%94%EC%96%B4-%EC%BF%BC%EB%A6%AC

[Guide: EM vs REM vs PX. Which should you use?](https://engageinteractive.co.uk/blog/em-vs-rem-vs-px)
